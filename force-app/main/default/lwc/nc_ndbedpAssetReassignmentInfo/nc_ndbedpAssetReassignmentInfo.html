<template>
    <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </template>
    <template if:true={reassignmentData.length}>
        <div class="slds-card slds-p-around_medium slds-scrollable" style="max-height: 160px;">
            <div class="slds-p-bottom_small">
                <div class="slds-text-heading_medium">
                    Equipment Reassignment
                    <div class="slds-float_right">
                        <lightning-button-icon icon-name="utility:refresh"  variant="border-filled" alternative-text="Refresh" title="Refresh" onclick={handleRefresh}></lightning-button-icon>
                    </div>
                </div>
                <div class="">
                    Equipment will be reassigned from the existing request
                </div>
            </div>
            <table class="slds-table slds-table_cell-buffer slds-table_bordered" aria-labelledby="element-with-table-label other-element-with-table-label">
                <thead>
                    <tr class="slds-line-height_reset">
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Equipment Name">Equipment Name</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Equipment Quantity">Quantity</div>
                        </th>
                        <th class="" scope="col">
                            <div class="slds-truncate" title="Request">Request</div>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={reassignmentData} for:item="data">
                        <tr key={data.request} class="slds-hint-parent">
                            <td data-label="Equipment Name">
                                <div class="slds-truncate" style="max-width: 200px;" title={data.equipmentName}>{data.equipmentName}</div>
                            </td>
                            <td data-label="Equipment Quantity">
                                <div class="slds-truncate" title={data.quantity}>{data.quantity}</div>
                            </td>
                            <td data-label="Request">
                                <div class="slds-truncate" title={data.requestNumber}>
                                    <a href={data.requestLink} target="_blank">
                                        {data.requestNumber}
                                    </a>
                                </div>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>
    </template>
</template>